#!/usr/bin/env node

const green = str => `\x1b[32m${str}\x1b[39m`
const blue = str => `\x1b[34m${str}\x1b[39m`

require('https').get('https://soccer.now.sh/spain/real-madrid?timezone=Europe/Madrid', res => {
  let data = ''

  res.on('data', _ => data += _)
  res.on('end', _ => {
    const { matches } = JSON.parse(data)
    matches
      .filter(_ => !_.played)
      .slice(0, 3).map(({ game, date, time, tvs }) => {
        console.log(`${green(game)}\t${date} (${time})\t${blue(tvs[0])}`)
      })
  })
}).on('error', console.log)
